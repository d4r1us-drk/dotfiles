exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = /usr/libexec/xdg-desktop-portal-hyprland
exec-once = /usr/libexec/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = waybar
exec-once = mako -c ~/.config/mako/config
exec-once = swww init
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = $HOME/.config/hypr/scripts/idle

monitor=,preferred,auto,1

input {
    kb_layout = us,es
    kb_options = grp:shift_caps_toggle 
    follow_mouse = 1
    scroll_method = 2fg
    touchpad {
        natural_scroll = yes
        disable_while_typing = false
        tap-to-click = true
    }
    sensitivity = -0.2
}

gestures {
    workspace_swipe = true
    workspace_swipe_numbered = false
    workspace_swipe_create_new = false
    workspace_swipe_direction_lock = false
    workspace_swipe_forever = false
}

general {
    gaps_in = 2
    gaps_out = 4
    border_size = 2
    col.active_border = rgb(cc241d) rgb(d79921) 45deg
    col.inactive_border = rgb(504945)
    layout = master
    no_focus_fallback = true
}

decoration {
    blur {
        enabled = true
        size = 4
        passes = 2
        new_optimizations = true
        noise = 0.2
        brightness = 0.8
    }
    rounding = 0
    drop_shadow = yes
    shadow_range = 5
    shadow_render_power = 3
    col.shadow = rgba(1a1a1aee)
}

animations {
    enabled = yes
    bezier = linear,0,0,1,1
    animation = windowsIn,1, 3,default,popin
    animation = fadeIn,1, 3,default
    animation = windowsOut,1, 3,default,popin
    animation = fadeOut,1, 3,default
    animation = windowsMove,1, 3,default,popin
    animation = border, 1, 2, linear
    animation = borderangle, 1, 25, linear, loop
    animation = fade, 1, 7, default
    animation = workspaces, 1, 4, default, slide
}

dwindle {
    pseudotile = yes
    preserve_split = yes
}

master {
    no_gaps_when_only = false
    new_is_master = false
    mfact = 0.50
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    mouse_move_enables_dpms = true
    enable_swallow = true
    swallow_regex = ^(alacritty)$
    hide_cursor_on_touch = true
    mouse_move_focuses_monitor = true
}


windowrule = float, ^(qalculate-gtk)$

windowrule = workspace 1, ^(neovim)$
windowrule = workspace 1, ^(goneovim)$
windowrule = workspace 1, ^(Code)$
windowrule = workspace 1, ^(emacs)$
windowrule = workspace 1, ^(neovide)$

windowrule = workspace 2, ^(gnome-boxes)$
windowrule = workspace 2, ^(virt-manager)$

windowrule = workspace 3, ^(file_manager)$
windowrule = workspace 3, ^(pcmanfm)$

windowrule = workspace 4, ^(org.qutebrowser.qutebrowser)$
windowrule = workspace 4, ^(org.mozilla.firefox)$
windowrule = workspace 4, ^(LibreWolf)$
windowrule = workspace 4, ^(Chromium)$
windowrule = workspace 4, ^(Brave-browser)$

windowrule = workspace 5, ^(gomuks)$
windowrule = workspace 5, ^(Signal)$
windowrule = workspace 5, ^(revolt-desktop)$
windowrule = workspace 5, ^(Element)$

windowrule = workspace 6, ^(tutanota-desktop)$
windowrule = workspace 6, ^(thunderbird)$

windowrule = workspace 7, ^(newsboat)$
windowrule = workspace 7, ^(org.kde.akregator)$
windowrule = workspace 7, ^(io.gitlab.news_flash.NewsFlash)$
windowrule = workspace 7, ^(liferea)$
windowrule = workspace 7, ^(io.github.martinrotter.rssguard)$

windowrule = workspace 8, ^(tut)$
windowrule = workspace 8, ^(org.kde.tokodon)$

windowrule = workspace 9, ^(music_player)$
windowrule = workspace 9, ^(ytfzf_music)$
windowrule = workspace 9, ^(audacity)$
windowrule = workspace 9, ^(Ardour)$
windowrule = workspace 9, ^(carla)$
windowrule = workspace 9, ^(carla-control)$
windowrule = workspace 9, ^(hydrogen)$
windowrule = workspace 9, ^(guitarix)$
windowrule = workspace 9, ^(lsp-plugins)$
windowrule = workspace 9, ^(QjackCtl)$
windowrule = workspace 9, ^(org.rncbc.qpwgraph)$
windowrule = workspace 9, ^(soundconverter)$
windowrule = workspace 9, ^(kid3-qt)$

windowrule = workspace 10, ^(pitivi)$
windowrule = workspace 10, ^(org.kde.kdenlive)$
windowrule = workspace 10, ^(mpv)$
windowrule = workspace 10, ^(ytfzf)$
windowrule = workspace 10, ^(flix_cli)$
windowrule = workspace 10, ^(ani_cli)$
windowrule = workspace 10, ^(blender)$
windowrule = workspace 10, ^(com.obsproject.Studio)$
windowrule = workspace 10, ^(fr.handbrake.ghb)$

windowrule = workspace 11, ^(org.inkscape.Inkscape)$
windowrule = workspace 11, ^(Gimp-2.10)$
windowrule = workspace 11, ^(xournalpp)$
windowrule = workspace 11, ^(krita)$
windowrule = workspace 11, ^(darktable)$
windowrule = workspace 11, ^(org.kde.digikam)$

windowrule = workspace 12, ^(libreoffice-writer)$
windowrule = workspace 12, ^(libreoffice-calc)$
windowrule = workspace 12, ^(libreoffice-impress)$
windowrule = workspace 12, ^(libreoffice-base)$
windowrule = workspace 12, ^(libreoffice-draw)$
windowrule = workspace 12, ^(libreoffice-math)$
windowrule = workspace 12, ^(soffice)$
windowrule = workspace 12, ^(GeoGebra)$
windowrule = workspace 12, ^(Notesnook)$

windowrule = workspace 13, ^(org.pwmt.zathura)$

windowrule = workspace 14, ^(org.libretro.RetroArch)$
windowrule = workspace 14, ^(com.github.tkashkin.gamehub)$
windowrule = workspace 14, ^(DarkPlaces)$
windowrule = workspace 14, ^(pyrogenesis)$
windowrule = workspace 14, ^(wesnoth)$
windowrule = workspace 14, ^(Steam)$
windowrule = workspace 14, ^(Minetest)$

windowrule = workspace 15, ^(org.keepassxc.KeePassXC)$

windowrule = workspace 16, ^(pulsemixer)$
windowrule = workspace 16, ^(alsamixer)$
windowrule = workspace 16, ^(com.github.wwmm.easyeffects)$

windowrule = workspace 19, ^(btop)$
windowrule = workspace 19, ^(htop)$

windowrule = workspace 20, ^(wdisplays)$
windowrule = workspace 20, ^(font-manager)$
windowrule = workspace 20, ^(org.qbittorrent.qBittorrent)$

$supMod = SUPER
$altMod = ALT
$conMod = CONTROL

bind = $supMod, RETURN, exec, alacritty
bind = $supMod, q, killactive
bind = $supMod_$conMod_SHIFT, q, exit
bind = $supMod, b, exec, pkill waybar || waybar
bind = $supMod, f, togglefloating
bind = $supMod, v, fullscreen, 0

bind = $supMod, k, layoutmsg, cyclenext
bind = $supMod, j, layoutmsg, cycleprev
bind = $supMod_SHIFT, RETURN, layoutmsg, focusmaster

bind = $supMod_SHIFT, j, layoutmsg, swapnext
bind = $supMod_SHIFT, k, layoutmsg, swapprev
bind = $supMod_$conMod, RETURN, layoutmsg, swapwithmaster
bind = $supMod, i, layoutmsg, addmaster
bind = $supMod, d, layoutmsg, removemaster
bind = $supMod_SHIFT, l, layoutmsg, orientationnext
bind = $supMod_SHIFT, h, layoutmsg, orientationprev
bind = $supMod, l, resizeactive, 30 0
bind = $supMod, h, resizeactive, -30 0
bind = $supMod_$conMod, j, resizeactive, 0 30
bind = $supMod_$conMod, k, resizeactive, 0 -30
bindm = $supMod, mouse:272, movewindow
bindm = $supMod, mouse:273, resizewindow

bind = $supMod, 1, workspace, 1
bind = $supMod, 2, workspace, 2
bind = $supMod, 3, workspace, 3
bind = $supMod, 4, workspace, 4
bind = $supMod, 5, workspace, 5
bind = $supMod, 6, workspace, 6
bind = $supMod, 7, workspace, 7
bind = $supMod, 8, workspace, 8
bind = $supMod, 9, workspace, 9
bind = $supMod, 0, workspace, 10
bind = $supMod_$conMod, 1, workspace, 11
bind = $supMod_$conMod, 2, workspace, 12
bind = $supMod_$conMod, 3, workspace, 13
bind = $supMod_$conMod, 4, workspace, 14
bind = $supMod_$conMod, 5, workspace, 15
bind = $supMod_$conMod, 6, workspace, 16
bind = $supMod_$conMod, 7, workspace, 17
bind = $supMod_$conMod, 8, workspace, 18
bind = $supMod_$conMod, 9, workspace, 19
bind = $supMod_$conMod, 0, workspace, 20

bind = $supMod_SHIFT, 1, movetoworkspace, 1
bind = $supMod_SHIFT, 2, movetoworkspace, 2
bind = $supMod_SHIFT, 3, movetoworkspace, 3
bind = $supMod_SHIFT, 4, movetoworkspace, 4
bind = $supMod_SHIFT, 5, movetoworkspace, 5
bind = $supMod_SHIFT, 6, movetoworkspace, 6
bind = $supMod_SHIFT, 7, movetoworkspace, 7
bind = $supMod_SHIFT, 8, movetoworkspace, 8
bind = $supMod_SHIFT, 9, movetoworkspace, 9
bind = $supMod_SHIFT, 0, movetoworkspace, 10
bind = $supMod_$conMod_SHIFT, 1, movetoworkspace, 11
bind = $supMod_$conMod_SHIFT, 2, movetoworkspace, 12
bind = $supMod_$conMod_SHIFT, 3, movetoworkspace, 13
bind = $supMod_$conMod_SHIFT, 4, movetoworkspace, 14
bind = $supMod_$conMod_SHIFT, 5, movetoworkspace, 15
bind = $supMod_$conMod_SHIFT, 6, movetoworkspace, 16
bind = $supMod_$conMod_SHIFT, 7, movetoworkspace, 17
bind = $supMod_$conMod_SHIFT, 8, movetoworkspace, 18
bind = $supMod_$conMod_SHIFT, 9, movetoworkspace, 19
bind = $supMod_$conMod_SHIFT, 0, movetoworkspace, 20

bind = $supMod, mouse_down, workspace, e+1
bind = $supMod, mouse_up, workspace, e-1

bind = $supMod, Right, workspace, e+1
bind = $supMod, Left, workspace, e-1

bind = $supMod_SHIFT, Left, movetoworkspace, e+1
bind = $supMod_SHIFT, Right, movetoworkspace, e-1

bindl=, XF86AudioRaiseVolume,  exec, pamixer -i 5                  
bindl=, XF86AudioLowerVolume,  exec, pamixer -d 5                  
bindl=, XF86AudioMute,         exec, pamixer -t                    
bindl=, XF86AudioMicMute,      exec, pamixer --default-source -t   
bindl=, XF86AudioPause,        exec, playerctl play-pause          
bindl=, XF86AudioPlay,         exec, playerctl play-pause          
bindl=, XF86AudioNext,         exec, playerctl next                
bindl=, XF86AudioPrev,         exec, playerctl previous            
bindl=, XF86AudioStop,         exec, playerctl stop                
bindl=, XF86News,              exec, alacritty --class newsboat -e newsboat
bindl=, XF86MonBrightnessUp,   exec, brightnessctl s 5%+ 
bindl=, XF86MonBrightnessDown, exec, brightnessctl s 5%- 
bindl=, XF86Display,           exec, wdisplays

binde = $supMod_SHIFT,   d, exec, pkill fuzzel || $RUNNER_EX --show drun
binde = $supMod_SHIFT,   r, exec, pkill fuzzel || $RUNNER_EX --show run
binde = $supMod_SHIFT,   w, exec, pkill fuzzel || $HOME/.config/fuzzel/scripts/fuzz_wall
binde = $supMod_SHIFT,   i, exec, pkill fuzzel || $HOME/.config/fuzzel/scripts/fuzz_wifi
binde = $supMod_SHIFT,   e, exec, pkill fuzzel || $HOME/.config/fuzzel/scripts/fuzz_emoji
binde = $supMod_SHIFT,   c, exec, pkill fuzzel || $HOME/.config/fuzzel/scripts/fuzz_clip
binde = $supMod_SHIFT,   s, exec, killall -s SIGINT wf-recorder || pkill fuzzel || $HOME/.config/fuzzel/scripts/fuzz_scrot
binde = $supMod_SHIFT,   q, exec, pkill fuzzel || $HOME/.config/fuzzel/scripts/fuzz_power
binde = $supMod_SHIFT,   b, exec, pkill fuzzel || $HOME/.config/fuzzel/scripts/fuzz_blue
binde = $supMod_SHIFT,   m, exec, pkill fuzzel || $HOME/.config/fuzzel/scripts/fuzz_mount

binde = $supMod_$conMod_SHIFT, p, exec, hyprpicker -n -a

binde = $supMod_$altMod, r, exec, alacritty --class newsboat -e newsboat
binde = $supMod_$altMod, t, exec, alacritty --class tut -e tut
binde = $supMod_$altMod, m, exec, alacritty --class ytfzf_music -e ytfzf -mlstT chafa
binde = $supMod_$altMod, f, exec, alacritty --class flix_cli -e flix-cli
binde = $supMod_$altMod, a, exec, alacritty --class ani_cli -e ani-cli
binde = $supMod_$altMod, y, exec, alacritty --class ytfzf -e ytfzf -flstT chafa
binde = $supMod_$altMod, p, exec, alacritty --class pulsemixer -e pulsemixer
binde = $supMod_$altMod, o, exec, alacritty --class alsamixer -e alsamixer
binde = $supMod_$altMod, b, exec, alacritty --class btop -e btop
binde = $supMod_$conMod, m, exec, alacritty --class music_player -e cmus
binde = $supMod_$conMod, f, exec, alacritty --class file_manager -e $HOME/.config/vifm/scripts/vifmrun
binde = $supMod_$conMod, w, exec, flatpak run org.mozilla.firefox
binde = $supMod_$conMod, e, exec, alacritty --class editor -e $HOME/.local/bin/lvim
binde = $supMod_$conMod, c, exec, flatpak run org.signal.Signal
binde = $supMod_$conMod, g, exec, flatpak run org.libretro.Retroarch
binde = $supMod_$conMod, p, exec, flatpak run com.bitwarden.desktop
