# Autostart
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = /usr/lib/xdg-desktop-portal
exec-once = /usr/lib/xdg-desktop-portal-wlr
exec-once = dunst --config ~/.config/dunst/dunstrc
exec-once = $HOME/.wbg
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type image --watch cliphist store #Stores only image data
exec-once = waybar

# Monitors
monitor=,preferred,auto,1

# Input
input {
  kb_layout = us,es
  kb_options = grp:shift_caps_toggle 
  follow_mouse = 1
  touchpad {
    natural_scroll = yes
  }
  sensitivity = -0.2 # -1.0 - 1.0, 0 means no modification.
}

# General
general {
  gaps_in = 5
  gaps_out = 10
  border_size = 3
  col.active_border = rgb(9d0006) rgb(fb4934) 45deg
  col.inactive_border = rgb(504945)
  layout = master
}

# Decorations
decoration {
  rounding = 7
  blur = yes
  blur_size = 3
  blur_passes = 1
  blur_new_optimizations = on
  drop_shadow = yes
  shadow_range = 4
  shadow_render_power = 3
  col.shadow = rgba(1a1a1aee)
}

# Animations
animations {
  enabled = yes
  bezier = myBezier, 0.05, 0.9, 0.1, 1.05
  animation = windows, 1, 7, myBezier
  animation = windowsOut, 1, 7, default, popin 80%
  animation = border, 1, 10, default
  animation = borderangle, 1, 8, default
  animation = fade, 1, 7, default
  animation = workspaces, 1, 6, default
}

# Dwindle layout config
dwindle {
  pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
  preserve_split = yes # you probably want this
}

# Master layout config
master {
  no_gaps_when_only = true
  new_is_master = false
}

# Mouse gestures
gestures {
  workspace_swipe = on
}

# Misc
misc {
  disable_hyprland_logo = true
  disable_splash_rendering = true
  mouse_move_enables_dpms = true
  enable_swallow = true
  swallow_regex = ^(wezterm)$
}

device:epic mouse V1 {
  sensitivity = -0.5
}

$supMod = SUPER
$altMod = ALT
$conMod = CONTROL

bind = $supMod, RETURN, exec, wezterm
bind = $supMod, Q, killactive, 
bind = $supMod_$conMod_SHIFT, Q, exit, 
bind = $supMod, B, exec, pkill waybar || waybar
bind = $supMod, V, togglefloating, 
bind = $supMod, P, pseudo, # dwindle
bind = $supMod, J, togglesplit, # dwindle

# Move focus with supMod + arrow keys
bind = $supMod, k, layoutmsg, cyclenext
bind = $supMod, j, layoutmsg, cycleprev

# swap windows
bind = $supMod_SHIFT, j, layoutmsg, swapnext
bind = $supMod_SHIFT, k, layoutmsg, swapprev

# focus master window
bind = $supMod_SHIFT, RETURN, layoutmsg, focusmaster

# swap window with master
bind = $supMod_$conMod, RETURN, layoutmsg, swapwithmaster

# add window to master stack
bind = $supMod, I, layoutmsg, addmaster
bind = $supMod, D, layoutmsg, removemaster

# change the master orientation
bind = $supMod, l, layoutmsg, orientationnext
bind = $supMod, h, layoutmsg, orientationprev

# Switch workspaces with supMod + [0-9]
bind = $supMod, 1, workspace, 1
bind = $supMod, 2, workspace, 2
bind = $supMod, 3, workspace, 3
bind = $supMod, 4, workspace, 4
bind = $supMod, 5, workspace, 5
bind = $supMod, 6, workspace, 6
bind = $supMod, 7, workspace, 7
bind = $supMod, 8, workspace, 8
bind = $supMod, 9, workspace, 9
bind = $supMod, 0, workspace, 10

# Move active window to a workspace with supMod + SHIFT + [0-9]
bind = $supMod SHIFT, 1, movetoworkspace, 1
bind = $supMod SHIFT, 2, movetoworkspace, 2
bind = $supMod SHIFT, 3, movetoworkspace, 3
bind = $supMod SHIFT, 4, movetoworkspace, 4
bind = $supMod SHIFT, 5, movetoworkspace, 5
bind = $supMod SHIFT, 6, movetoworkspace, 6
bind = $supMod SHIFT, 7, movetoworkspace, 7
bind = $supMod SHIFT, 8, movetoworkspace, 8
bind = $supMod SHIFT, 9, movetoworkspace, 9
bind = $supMod SHIFT, 0, movetoworkspace, 10

# Scroll through existing workspaces with supMod + scroll
bind = $supMod, mouse_down, workspace, e+1
bind = $supMod, mouse_up, workspace, e-1

# Move/resize windows with supMod + LMB/RMB and dragging
bindm = $supMod, mouse:272, movewindow
bindm = $supMod, mouse:273, resizewindow

# Audio control
bindl=, XF86AudioRaiseVolume, exec, pamixer -i 5
bindl=, XF86AudioLowerVolume, exec, pamixer -d 5
bindl=, XF86AudioMute, exec, pamixer -t
bindl=, XF86AudioMicMute, exec, pamixer --default-source -t
bindl=, XF86AudioPause, exec, playerctl play-pause
bindl=, XF86AudioPlay, exec, playerctl play-pause
bindl=, XF86AudioNext, exec, playerctl next
bindl=, XF86AudioPrev, exec, playerctl previous
bindl=, XF86AudioStop, exec, playerctl stop
bindl=, XF86News, exec, wezterm start --class newsboat -- newsboat

# Brightness control
bindl=, XF86MonBrightnessUp, exec, brightnessctl s 10%+
bindl=, XF86MonBrightnessDown, exec, brightnessctl s 10%-

# Display configuration
bindl=, XF86Display, exec, wdisplays

# Rofi menus
binde = $supMod_SHIFT, D, exec, pkill rofi || rofi -show drun
binde = $supMod_SHIFT, W, exec, pkill rofi || $HOME/.config/rofi/scripts/rofi_wall
binde = $supMod_SHIFT, I, exec, pkill rofi || $HOME/.config/rofi/scripts/rofi_wifi
binde = $supMod_SHIFT, E, exec, pkill rofi || $HOME/.config/rofi/scripts/rofi_emoji
binde = $supMod_SHIFT, S, exec, pkill rofi || $HOME/.config/rofi/scripts/rofi_scrot
binde = $supMod_$conMod, S, exec, pkill rofi || $HOME/.config/rofi/scripts/rofi_scrot -s
binde = $supMod_SHIFT, Q, exec, pkill rofi || $HOME/.config/rofi/scripts/rofi_power
binde = $supMod_SHIFT, B, exec, pkill rofi || $HOME/.config/rofi/scripts/rofi_blue
binde = $supMod_SHIFT, C, exec, pkill rofi || cliphist list | rofi -dmenu -p " ïƒª  Clipboard " | cliphist decode | wl-copy

# Quick terminal scripts/commands
binde = $supMod_$altMod, T, exec, wezterm start --class tut -- tut
binde = $supMod_$altMod, F, exec, wezterm start --class flix_cli -- flix-cli
binde = $supMod_$altMod, A, exec, wezterm start --class ani_cli -- ani-cli
binde = $supMod_$altMod, Y, exec, wezterm start --class ytfzf -- ytfzf -flstT chafa
binde = $supMod_$altMod, M, exec, wezterm start --class ytfzf_music -- ytfzf -mlstT chafa
binde = $supMod_$altMod, P, exec, wezterm start --class pulsemixer -- pulsemixer
binde = $supMod_$altMod, O, exec, wezterm start --class alsamixer -- alsamixer
binde = $supMod_$altMod, R, exec, wezterm start --class newsboat -- newsboat
binde = $supMod_$altMod, B, exec, wezterm start --class btop -- btop
binde = $supMod_$altMod, H, exec, wezterm start --class htop -- htop

# Apps
binde = $supMod, E, exec, wezterm start --class editor -- ./.local/bin/lvim
binde = $supMod, W, exec, firefox
binde = $supMod, F, exec, wezterm start --class file_manager -- ranger
binde = $supMod, M, exec, wezterm start --class music_player -- cmus
binde = $supMod, P, exec, keepassxc
binde = $supMod, G, exec, retroarch
